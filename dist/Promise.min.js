(function(){function a(l){var e=0,d=null,f,g=this,c=function(b){if(0===e)return d=b,!1;var a=2===e?b.onResolved:b.onRejected;return a?b.resolve(a(f)):2===e?b.resolve(f):b.reject(f)},h=function(b){e=1;f=b;d&&c(d)},k=function(b){b&&"function"===typeof b.then?b.then(k,h):(e=2,f=b,d&&c(d))};g.then=function(b,e){return new a(function(a,d){return c({onResolved:b,onRejected:e,resolve:a,reject:d})})};g["catch"]=function(b){return g.then(null,b)};g["finally"]=function(b){return g.then(b)};return l(k,h)}var c=
"undefined"!==typeof module&&module.exports?"node":"browser";a.resolve=function(c){return new a(function(a){return a(c)})};a.reject=function(c){return new a(function(a,d){return d(c)})};a.all=function(c){var e=[],d=a.resolve(null);c.forEach(function(a){d=d.then(function(){return a}).then(function(a){e.push(a)})});return d.then(function(){return e})};"node"===c?module.exports=a:(c=window||{},c.define&&c.define.amd&&c.define(function(){return a}),c.Promise=a)})();