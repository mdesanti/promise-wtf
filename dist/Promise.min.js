(function(f,g){if("undefined"!==typeof module&&module.exports)module.exports=g();else{var b=window||{};b.define&&b.define.amd?b.define([],g):b.exports?b.exports=g():b[f]=g()}})("Promise",function(){var f="undefined"!==typeof module&&module.exports?"node":"browser",g=function(a){return a&&"[object Function]"==={}.toString.call(a)},b=function(a){var c=0,d=null,k,l=this,e=function(h){if(0===c)return d=h,!1;var a=2===c?h.onResolved:h.onRejected;return a?h.resolve(a(k)):2===c?h.resolve(k):h.reject(k)},
f=function(a){c=1;k=a;d&&e(d)},m=function(a){a&&g(a.then)?a.then(m,f):(c=2,k=a,d&&e(d))};l.then=function(a,c){return new b(function(b,d){return e({onResolved:a,onRejected:c,resolve:b,reject:d})})};l["catch"]=function(a){if(a&&g(a))return l.then(null,a)};return a(m,f)};b.resolve=function(a){return new b(function(c){return c(a)})};b.reject=function(a){return new b(function(c,b){return b(a)})};b.all=function(a){var c=[],d=b.resolve(null);a.forEach(function(a){d=d.then(function(){return a}).then(function(a){c.push(a)})});
return d.then(function(){return c})};var e,f="node"===f?global:window;e=f.Promise?f.Promise:b;e.prototype["finally"]=function(a){return this.then(function(b){return e.resolve(a()).then(function(){return b})},function(b){return e.resolve(a()).then(function(){throw b;})})};e.series=function(a){return new e(function(b,d){var e=a.length,f=function(g){a[g](function(a){return a?d(a):g<e-1?f(g+1):b()})};return f(0)})};return e});