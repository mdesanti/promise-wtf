(function(){var f="undefined"!==typeof module&&module.exports?"node":"browser",l=function(a){return a&&"[object Function]"==={}.toString.call(a)},e=function(a){var c=0,d=null,h,k=this,g=function(b){if(0===c)return d=b,!1;var a=2===c?b.onResolved:b.onRejected;return a?b.resolve(a(h)):2===c?b.resolve(h):b.reject(h)},f=function(b){c=1;h=b;d&&g(d)},m=function(b){b&&"function"===typeof b.then?b.then(m,f):(c=2,h=b,d&&g(d))};k.then=function(b,a){return new e(function(c,d){return g({onResolved:b,onRejected:a,
resolve:c,reject:d})})};k["catch"]=function(b){if(b&&l(b))return k.then(null,b)};k["finally"]=function(b){if(b&&l(b))return k.then(b)};return a(m,f)};e.resolve=function(a){return new e(function(c){return c(a)})};e.reject=function(a){return new e(function(c,d){return d(a)})};e.all=function(a){var c=[],d=e.resolve(null);a.forEach(function(a){d=d.then(function(){return a}).then(function(a){c.push(a)})});return d.then(function(){return c})};e.series=function(a){return new e(function(c,d){var e,f,g=0,
l=a.length;e=function(a){return a?d(a):f()};f=function(){g++;return g<=l?(0,a[g-1])(e):c()};return f()})};"node"===f?module.exports=e:(f=window||{},f.define&&f.define.amd&&f.define(function(){return e}),f.Promise=e)})();